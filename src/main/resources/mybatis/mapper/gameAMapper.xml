<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.quizproject.gameAType.GameAMapper" >
    <insert id="insertGame">
        INSERT INTO GAME(gId, title, intro, type, uid, firstDt, lastDt)
        VALUES (#{gId}, #{title}, #{intro}, 'quizA', 1, now(), now())
    </insert>

    <insert id="insertGameItem1">
        INSERT INTO GAMEITEM(giId, serial, subTitle, content, gId, firstDt, lastDt)
        VALUES ((SELECT IFNULL(MAX(giId)+1, 1) FROM GAMEITEM as a), #{count}, #{subTitle}, #{content1}, #{gId}, now(), now())
    </insert>

    <insert id="insertGameItem2">
        INSERT INTO GAMEITEM(giId, serial, subTitle, content, gId, firstDt, lastDt)
        VALUES ((SELECT IFNULL(MAX(giId)+1, 1) FROM GAMEITEM as a), #{count}, #{subTitle}, #{content2}, #{gId}, now(), now())
    </insert>

    <select id="selectGID" resultType="int">
        SELECT max(gId) FROM GAME
    </select>

    <select id="selectGAME" resultType="com.quizproject.gameAType.GameAVO">
        SELECT gId, title, intro, thumbnail, type, uId FROM GAME WHERE gId=2
    </select>
</mapper>


